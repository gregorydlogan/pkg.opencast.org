{% extends "layout.html" %}
{% block body %}

<div class="nav">
	<div class="nav-wrapper">
		<a href="{{ url_for('home') }}" class="headline"><img src="{{ url_for('static', filename='img/logo.png') }}" /></a>
		<div class="menu">
			<a href="{{ url_for('logout') }}"><div>Logout</div></a>
			{%if admin %}
			<a href="{{ url_for('admin') }}"><div>Admin view</div></a>
			{%endif%}
		</div>
	</div>
</div>
<div class="banner">
	<div>Opencast Package Repository</div>
	<p>Opencast is an open source solution for automated video capture and distribution at scale. Build custom capture, processing, scheduling.</p>
</div>

<div class="wrapper dark">
	<div class="wrapper-inner">
		<h2>Installation</h2>

		<h5>About</h5>

		<p>
		The following Linux distributions are currently supported:
		</p>
		<ul>
			<li> CentOS 6x, 7x</li>
			<li> Scientific Linux 6.x, 7.x</li>
			<li> RedHat Enterprise Linux 6.x, 7.x</li>
			<li> Fedora 20 (Testing only)</li>
		</ul>


		<p>
		A detailed description of the installation process can be found in the  <a href="https://opencast.jira.com/wiki/display/MHTRUNK/Install">Matterhorn Release Wiki</a>:<br/>
		</p>

		<h5>CentOS/RHEL/Scientific Linux 6.x</h5>
		<div class="repocontent light">
			<pre>
	# Add matterhorn repository.
	cd /etc/yum.repos.d
	curl -O http://repo.virtuos.uos.de/matterhorn.repo \
		-d os=el -d version=6 \
		-u [YOUR_USERNAME]:[YOUR_PASSWORD]

	# Add epel repository.
	yum install epel-release

	# Install matterhorn with all it's dependencies.
	yum install opencast-matterhorn15
			</pre>
		</div>

		<h5>CentOS/RHEL/Scientific Linux 7.x</h5>
		<div class="repocontent light">
			<pre>
	# Add matterhorn repository.
	cd /etc/yum.repos.d
	curl -O http://repo.virtuos.uos.de/matterhorn.repo \
		-d os=el -d version=7 \
		-u [YOUR_USERNAME]:[YOUR_PASSWORD]

	# Add epel repository.
	yum install epel-release

	# Install matterhorn with all it's dependencies.
	yum install opencast-matterhorn15
			</pre>
		</div>

		<h5>Fedora</h5>
		<div class="repocontent light">
			<pre>
	Fedora is available from the testing repository only.
			</pre>
		</div>
	</div>
</div>


<div class="wrapper light">
	<div class="wrapper-inner">

		<h2>Testing repository</h2>

		<p>If you want the newest updates and package build you can enable the Opencast Matterhorn Testing Repositories. However, the probability that something is not working right if you pull the RPMs from here is higher. So you should not use this for productive systems.</p>
		<p>To enable the testing repository first install the regular repositories and then follow these steps:</p>

		<h5>CentOS/RHEL/Scientific Linux 6.x</h5>
		<div class="repocontent">
			<pre>
		# Add matterhorn repository.
		cd /etc/yum.repos.d
		curl -O http://repo.virtuos.uos.de/matterhorn-testing.repo \
			 -d version=6 -d os=el \
			 -u [YOUR_USERNAME]:[YOUR_PASSWORD]
			</pre>
		</div>

		<h5>CentOS/RHEL/Scientific Linux 7.x</h5>
		<div class="repocontent">
			<pre>
		# Add matterhorn repository.
		cd /etc/yum.repos.d
		curl -O http://repo.virtuos.uos.de/matterhorn-testing.repo \
			 -d version=7 -d os=el \
			 -u [YOUR_USERNAME]:[YOUR_PASSWORD]
			</pre>
		</div>

		<h5>Fedora</h5>
		<div class="repocontent">
			<pre>
		# Add matterhorn repository.
		cd /etc/yum.repos.d
		curl -O http://repo.virtuos.uos.de/matterhorn-testing.repo \
			-d 'version=$releasever' -d os=fc \
			-u [YOUR_USERNAME]:[YOUR_PASSWORD]

		# Add rpmfusion repository.
		yum localinstall --nogpgcheck \
		  http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm \
		  http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm

		# Install matterhorn with all it's dependencies.
		yum install opencast-matterhorn15
			</pre>
		</div>

	</div>
</div>

<div class="wrapper dark">
	<div class="wrapper-inner">

		<h2>Sources</h2>
		<p>If you want to build your own RPM repository you can get the source RPMs from <a href="http://repo.virtuos.uos.de/srpms/">here</a>. Additional documentation and the SPEC files can be found at <a href="https://github.com/lkiesow/matterhorn-rpms">GitHub</a>.</p>

	</div>
</div>

<div class="wrapper light">
	<div class="wrapper-inner">

		<h2>Troubleshooting</h2>
		<p>
		If you encounter any trouble during the installation process check if all repositories are installed and enabled properly. Some distributions for example come with a preinstalled but disabled epel repository. The installation of the epel-release package will not fix this.
		You can check what repositories are installed and enabled by executing yum repolist enabled which should give you a list with epel, matterhorn and matterhorn-noarch in it.
		</p>

		<p>
		If epel was preinstalled but disabled on your system, you can obviously skip the installation of the epel-release package, although an installation will not harm your system. You just need to enable the system by editing the configuration file /etc/yum.repo.d/epel.repo and set the property enabled to 1.
		If you get errors that Matterhorn dependencies are missing, make sure that you are actually running an OS with x86_64 architecture. There is no repository for other architectures.
		</p>

	</div>
</div>

{% endblock %}
